<!DOCTYPE html>
<html>
    <head>
        <title>Objects & Methods</title>
        <style>
            body {
                font-family: helvetica;
            }
            em { 
                font-weight: bold; 
                font-style: normal; 
                text-decoration: underline; 
                font-size: 1.2em; 
            }
            h1 {
                text-align:center;
            }
            ol {
                list-style: none;
                counter-reset: item;
                width: 700px; 
                position: relative; 
                left: 50%; 
                margin-left: -350px;
            }
            ol > li {
                counter-increment: item;
                margin-bottom: 20px;
            }
            ol > li:before {
                margin-right: 10px;
                content: counter(item);
                background: crimson;
                border-radius: 100%;
                color: white;
                width: 1.3em;
                text-align: center;
                display: inline-block;
            }
        </style>
    </head>

    <body>
        <h1>Objects</h1>
        <script>
            // ==============
            // Object Methods
            // ==============
            
            const objWithMethods = {
                name: "James",
                age: 90,
                sayName: function() {
                    console.log("Hello World");
                },
                sayObjName: function() {
                    console.log(this.name);
                },
                sayMyParameter: function(para) {
                    console.log(para + " " + this.age);
                }
            }; 

            // this
            const objExample = {
                name: "James",
                normalFunction: function() {
                    console.log( this ); // objExample
                },
                // Don't do arrow functions in object
                arrowFunction: () => {      
                    console.log( this ); // Global Window Object
                }
            }

            // Looping with Methods
            for (let prop in objWithMethods) {
                if (typeof objWithMethods[prop] !== "function") {
                    // log only properties and no methods
                    console.log(prop + " " + objWithMethods[ prop ]);
                }
            }

            // Adding method to existing object
            objWithMethods.newMethod = function() {
                alert("123");
            }
        	
        </script>

        <ol>
        	<li><em>Fix Object with Methods Errors</em>
                <br/>
                Below is an object literal created with mistakes. Fix the errors and console.log the object. Call both of the methods and view the results in the console.
            </li>
            <script>
            	let qNum = 1;
            	console.log("%c Question "+qNum+". ", "color: #bada55; background: black;");

            	const favouriteObj = {
            		colour: "brown",
            		movie: "Gladiator",
            		myFavouriteThings: function() {
                        console.log("My Fav things are " + colour + " " + movie);
                    },
                    squareNumber: function() {
                        return num * num;
                    }
            	}
            </script>


            <li><em>Create an Object with 2 Methods</em>
                <br/>
                Create an object literal that has 1 property (your name) and 2 methods. The first method should console.logs "Hello name" where name is the property value in the object. The second method should console.logs "Goodbye X" where X is a parameter which you can provide to the method. It no parameter is given console.logs "Goodbye stranger". Call both functions in the code.
            </li>
            <script>
                qNum++;
                console.log("%c Question "+qNum+". ", "color: #bada55; background: black;");

                const person = {
                    name: "James",
                    helloFunc: function() {
                        console.log("Hello " + this.name);
                    },
                    goodbyeFunc: function(para) {
                        console.log("Goodbye " + para);
                    }
                }

                person.helloFunc();
                person.goodbyeFunc("Bob");
            </script>


            <li><em>Add New Method to Existing Object</em>
                <br/>
                Using the object you created above, add a new method to it. Have this method accept a parameter and then alert the value of this parameter when called. Call this new method in the code.
            </li>
            <script>
                qNum++;
                console.log("%c Question "+qNum+". ", "color: #bada55; background: black;");

                person.newMethod = function(para) {
                    alert(para);
                }

                person.newMethod("Hello World");
            </script>


            <li><em>Loop over Object but Skip Methods</em>
                <br/>
                You are provided a simple object below that contains properties and methods. Use a for in loop, to loop through each item and for each, console.log the "key = value". Do this only for the properties. Do not log any of the methods.
            </li>
            <script>
                qNum++;
                console.log("%c Question "+qNum+". ", "color: #bada55; background: black;");

                const bigObject = {
                    tv: "Samsung",
                    phone: "Apple",
                    car: "VW",
                    aFunc: function() {
                        console.log("Hello A");
                    },
                    house: "condo",
                    animals: ["bird", "snake"],
                    bFunc: function() {
                        console.log("Hello B");
                    },
                    cFunc: function() {
                        console.log("Hello C");
                    },
                    wallet: "leather"
                }

                for (let prop in bigObject) {
                    if (typeof bigObject[prop] !== "function") {
                        console.log(prop + " = " + bigObject[prop]);
                    }
                }
            </script>


            <li><em>Loop over Object but Call only Methods</em>
                <br/>
                Using the big object provided in the previous question, loop through each item and for each one that is a method, call that method. Also console.log the number of methods that are in the object and the number of non method properties that are in the object.
            </li>
            <script>
                qNum++;
                console.log("%c Question "+qNum+". ", "color: #bada55; background: black;");
                let countMethod = 0;
                let countProp = 0;

                for (let prop in bigObject) {
                    if (typeof bigObject[prop] === "function") {
                        bigObject[prop](); // have to put () here to actually call the methods
                        countMethod += 1;
                    }
                    else {
                        countProp += 1;
                    }
                }
                console.log("countMethod = " + countMethod);
                console.log("countProp = " + countProp);
            </script>

        </ol>
    </body>
</html>
